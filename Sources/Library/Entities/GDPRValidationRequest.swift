// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// A request containing a set of release ids to validate
public struct GDPRValidationRequest: Codable {
  /// A list of release ids to validate (AC flow)
  public var releaseIDs: [Int]
  /// A list of release ids to validate (HA flow)
  public var hockeyappReleaseIDs: [Int]?
  /// A list of release uploads ids to validate
  public var releaseUploadIDs: [String]?

  public init(releaseIDs: [Int], hockeyappReleaseIDs: [Int]? = nil, releaseUploadIDs: [String]? = nil) {
    self.releaseIDs = releaseIDs
    self.hockeyappReleaseIDs = hockeyappReleaseIDs
    self.releaseUploadIDs = releaseUploadIDs
  }

  public init(from decoder: Decoder) throws {
    let values = try decoder.container(keyedBy: StringCodingKey.self)
    self.releaseIDs = try values.decode([Int].self, forKey: "release_ids")
    self.hockeyappReleaseIDs = try values.decodeIfPresent([Int].self, forKey: "hockeyapp_release_ids")
    self.releaseUploadIDs = try values.decodeIfPresent([String].self, forKey: "release_upload_ids")
  }

  public func encode(to encoder: Encoder) throws {
    var values = encoder.container(keyedBy: StringCodingKey.self)
    try values.encode(releaseIDs, forKey: "release_ids")
    try values.encodeIfPresent(hockeyappReleaseIDs, forKey: "hockeyapp_release_ids")
    try values.encodeIfPresent(releaseUploadIDs, forKey: "release_upload_ids")
  }
}
