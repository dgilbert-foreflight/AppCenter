// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// A stacktrace in a processed and prettyfied way
public struct DiagnosticsStackTrace: Codable {
  public var title: String?
  public var reason: String?
  public var threads: [DiagnosticsThread]?
  /// A exception
  public var exception: DiagnosticsException?

  public init(title: String? = nil, reason: String? = nil, threads: [DiagnosticsThread]? = nil, exception: DiagnosticsException? = nil) {
    self.title = title
    self.reason = reason
    self.threads = threads
    self.exception = exception
  }

  public init(from decoder: Decoder) throws {
    let values = try decoder.container(keyedBy: StringCodingKey.self)
    self.title = try values.decodeIfPresent(String.self, forKey: "title")
    self.reason = try values.decodeIfPresent(String.self, forKey: "reason")
    self.threads = try values.decodeIfPresent([DiagnosticsThread].self, forKey: "threads")
    self.exception = try values.decodeIfPresent(DiagnosticsException.self, forKey: "exception")
  }

  public func encode(to encoder: Encoder) throws {
    var values = encoder.container(keyedBy: StringCodingKey.self)
    try values.encodeIfPresent(title, forKey: "title")
    try values.encodeIfPresent(reason, forKey: "reason")
    try values.encodeIfPresent(threads, forKey: "threads")
    try values.encodeIfPresent(exception, forKey: "exception")
  }
}
