// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// Audience Query definition.
public struct AudienceQueryDefinition: Codable {
  /// Audience Query Type
  public var queryType: QueryType
  /// List of identifiers.
  public var identifiers: [String]?

  /// Audience Query Type
  public enum QueryType: String, Codable, CaseIterable {
    case broadcast
    case userIDs = "user_ids"
    case accountIDs = "account_ids"
    case installIDs = "install_ids"
  }

  public init(queryType: QueryType, identifiers: [String]? = nil) {
    self.queryType = queryType
    self.identifiers = identifiers
  }

  public init(from decoder: Decoder) throws {
    let values = try decoder.container(keyedBy: StringCodingKey.self)
    self.queryType = try values.decode(QueryType.self, forKey: "queryType")
    self.identifiers = try values.decodeIfPresent([String].self, forKey: "identifiers")
  }

  public func encode(to encoder: Encoder) throws {
    var values = encoder.container(keyedBy: StringCodingKey.self)
    try values.encode(queryType, forKey: "queryType")
    try values.encodeIfPresent(identifiers, forKey: "identifiers")
  }
}
