// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// Alerting event
public struct AlertingEvent: Codable {
  /// ISO 8601 date time when event was generated
  public var eventTimestamp: String
  /// A unique identifier for this event instance. Useful for deduplication
  public var eventID: String
  /// Obsolete. Use emailProperties.
  public var properties: [String: AnyJSON]?

  public init(eventTimestamp: String, eventID: String, properties: [String: AnyJSON]? = nil) {
    self.eventTimestamp = eventTimestamp
    self.eventID = eventID
    self.properties = properties
  }

  public init(from decoder: Decoder) throws {
    let values = try decoder.container(keyedBy: StringCodingKey.self)
    self.eventTimestamp = try values.decode(String.self, forKey: "event_timestamp")
    self.eventID = try values.decode(String.self, forKey: "event_id")
    self.properties = try values.decodeIfPresent([String: AnyJSON].self, forKey: "properties")
  }

  public func encode(to encoder: Encoder) throws {
    var values = encoder.container(keyedBy: StringCodingKey.self)
    try values.encode(eventTimestamp, forKey: "event_timestamp")
    try values.encode(eventID, forKey: "event_id")
    try values.encodeIfPresent(properties, forKey: "properties")
  }
}
