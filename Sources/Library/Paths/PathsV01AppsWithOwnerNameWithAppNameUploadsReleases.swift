// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation
import Get
import HTTPHeaders
import URLQueryEncoder

extension API.Apps.WithOwnerName.WithAppName.Uploads {
  public var releases: Releases {
    Releases(path: path + "/releases")
  }

  public struct Releases {
    /// Path: `/v0.1/apps/{owner_name}/{app_name}/uploads/releases`
    public let path: String

    /// Initiate a new release upload. This API is part of multi-step upload process.
    public func post(_ body: PostRequest? = nil) -> Request<[String: AnyJSON]> {
      Request(method: "POST", url: path, body: body, id: "releases_createReleaseUpload")
    }

    public struct PostRequest: Encodable {
      /// User defined build version
      public var buildVersion: String?
      /// User defined build number
      public var buildNumber: String?

      public init(buildVersion: String? = nil, buildNumber: String? = nil) {
        self.buildVersion = buildVersion
        self.buildNumber = buildNumber
      }

      public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encodeIfPresent(buildVersion, forKey: "build_version")
        try values.encodeIfPresent(buildNumber, forKey: "build_number")
      }
    }
  }
}
