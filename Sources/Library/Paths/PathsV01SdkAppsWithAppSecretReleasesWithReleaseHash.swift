// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation
import Get
import HTTPHeaders
import URLQueryEncoder

extension API.Sdk.Apps.WithAppSecret.Releases {
  public func releaseHash(_ releaseHash: String) -> WithReleaseHash {
    WithReleaseHash(path: "\(path)/\(releaseHash)")
  }

  public struct WithReleaseHash {
    /// Path: `/v0.1/sdk/apps/{app_secret}/releases/{release_hash}`
    public let path: String

    /// If 'latest' is not specified then it will return the specified release if it's enabled. If 'latest' is specified, regardless of whether a release hash is provided, the latest enabled release is returned.
    public func get(udid: String? = nil) -> Request<[String: AnyJSON]> {
      Request(method: "GET", url: path, query: makeGetQuery(udid), id: "releases_getLatestByHash")
    }

    private func makeGetQuery(_ udid: String?) -> [(String, String?)] {
      let encoder = URLQueryEncoder()
      encoder.encode(udid, forKey: "udid")
      return encoder.items
    }
  }
}
