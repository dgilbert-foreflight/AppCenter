// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation
import Get
import HTTPHeaders
import URLQueryEncoder

extension API.Apps.WithOwnerName.WithAppName.DistributionGroups {
  public func distributionGroupName(_ distributionGroupName: String) -> WithDistributionGroupName {
    WithDistributionGroupName(path: "\(path)/\(distributionGroupName)")
  }

  public struct WithDistributionGroupName {
    /// Path: `/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}`
    public let path: String

    /// Returns a single distribution group for a given distribution group name
    public var get: Request<[String: AnyJSON]> {
      Request(method: "GET", url: path, id: "distributionGroups_get")
    }

    /// Updates the attributes of distribution group
    public func patch(_ body: PatchRequest) -> Request<[String: AnyJSON]> {
      Request(method: "PATCH", url: path, body: body, id: "distributionGroups_update")
    }

    public struct PatchRequest: Encodable {
      /// The name of the distribution group
      public var name: String?
      /// Whether the distribution group is public
      public var isPublic: Bool?

      public init(name: String? = nil, isPublic: Bool? = nil) {
        self.name = name
        self.isPublic = isPublic
      }

      public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encodeIfPresent(name, forKey: "name")
        try values.encodeIfPresent(isPublic, forKey: "is_public")
      }
    }

    /// Deletes a distribution group
    public var delete: Request<Void> {
      Request(method: "DELETE", url: path, id: "distributionGroups_delete")
    }
  }
}
